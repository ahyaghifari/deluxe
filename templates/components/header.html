{% load static %}{% load customtags %}
<header
  class="bg-grey dark:bg-brown p-1 lg:px-5 shadow-sm flex justify-between flex-wrap items-center fixed top-0 w-full z-[100]"
>
  <a href="/" class="font-monte text-3xl md:text-3xl lg:text-4xl">Deluxe</a>

  <nav
    class="fixed lg:static w-full left-0 top-0 h-screen bg-grey dark:bg-brown flex items-end justify-center flex-col p-5 font-monte text-5xl lg:h-fit lg:text-2xl lg:flex-row lg:w-1/2 lg:p-2 lg:justify-around xl:w-5/12 z-50"
  >
    <span
      class="material-symbols-rounded text-3xl cursor-pointer fixed top-2 right-2 hover:text-orange menu-toggle lg:hidden"
    >
      close
    </span>
    {% with request.resolver_match.url_name as url_name %}
    <a href="/" class="my-3 lg:my-0 border-brown {% if url_name == "home" %}font-semibold{% endif %}">Home</a>
    <a href="/menu" class="my-3 lg:my-0 {% if url_name == "menu" or url_name == "menu-detail" %}font-semibold{% endif %}">Menu</a>
    <a href="/news" class="my-3 lg:my-0 {% if url_name == "news" or url_name == "news-detail"  %}font-semibold{% endif %}">News</a>
    <a href="/contact" class="my-3 lg:my-0 {% if url_name == "contact" %}font-semibold{% endif %}">Contact</a>
    {% if user.is_staff %}
    <a href="/manager" class="my-3 lg:my-0">Dashboard</a>
    {% endif %}
    {% if request.user|ordermanagergate %}
    <a href="/order/manager/" class="my-3 lg:my-0 {% if url_name == "ordermanagerall" or url_name == "ordermanagermain" %}font-semibold{% endif %}">Orders</a>
    {% endif %}
    {% endwith %}
  </nav>

  <div class="w-4/12 md:w-2/12 lg:w-1/12 flex justify-around items-center">
    <a href="/cart" class="relative group">
      <svg class="w-[28px] md:w-[32px] lg:w-[38px] fill-brown group-hover:fill-orange dark:fill-skin object-contain" viewBox="0 0 60 60"><path d="M14.35 43.95q-1.5 0-2.55-1.05-1.05-1.05-1.05-2.55 0-1.5 1.05-2.55 1.05-1.05 2.55-1.05 1.45 0 2.525 1.05t1.075 2.55q0 1.5-1.05 2.55-1.05 1.05-2.55 1.05Zm20 0q-1.5 0-2.55-1.05-1.05-1.05-1.05-2.55 0-1.5 1.05-2.55 1.05-1.05 2.55-1.05 1.45 0 2.525 1.05t1.075 2.55q0 1.5-1.05 2.55-1.05 1.05-2.55 1.05Zm-22.6-33 5.5 11.4h14.4l6.25-11.4Zm2.1 22.6q-2.1 0-3.025-1.4-.925-1.4.025-3.15l3.2-5.9L6.45 7H4q-.6 0-1.025-.45-.425-.45-.425-1.1 0-.6.425-1.025Q3.4 4 4.05 4h3.4q.45 0 .8.225.35.225.55.625l1.45 3.1H39.7q1.6 0 2.025.975.425.975-.275 2.175L34.7 23.25q-.5.85-1.4 1.475-.9.625-1.95.625H16.2l-2.8 5.2h23.1q.6 0 1.025.45.425.45.425 1.05 0 .65-.425 1.075-.425.425-1.075.425Zm3.4-11.2h14.4Z"></svg>
      <div class="h-[18px] w-[18px] bg-brown text-grey text-[10px] absolute top-0 right-0 flex justify-center items-center -translate-y-2 rounded-full group-hover:bg-orange md:w-[20px] md:h-[20px] md:text-[12px] dark:bg-skin dark:text-brown">
        <p id="cart-count"></p>
      </div>
    </a>
    <a href="/users">
      <svg class="w-[28px]  md:w-[32px] lg:w-[38px] fill-brown hover:fill-orange dark:fill-skin object-contain" viewBox="0 0 60 60"><path d="M11.1 35.25q3.15-2.2 6.25-3.375Q20.45 30.7 24 30.7q3.55 0 6.675 1.175t6.275 3.375q2.2-2.7 3.125-5.45Q41 27.05 41 24q0-7.25-4.875-12.125T24 7q-7.25 0-12.125 4.875T7 24q0 3.05.95 5.8t3.15 5.45ZM24 25.5q-2.9 0-4.875-1.975T17.15 18.65q0-2.9 1.975-4.875T24 11.8q2.9 0 4.875 1.975t1.975 4.875q0 2.9-1.975 4.875T24 25.5ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.775t4.3-6.35q2.725-2.725 6.375-4.3Q19.9 4 24 4q4.15 0 7.775 1.575t6.35 4.3q2.725 2.725 4.3 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.3 6.375-2.725 2.725-6.35 4.3Q28.15 44 24 44Zm0-3q2.75 0 5.375-.8t5.175-2.8q-2.55-1.8-5.2-2.75-2.65-.95-5.35-.95-2.7 0-5.35.95-2.65.95-5.2 2.75 2.55 2 5.175 2.8Q21.25 41 24 41Zm0-18.5q1.7 0 2.775-1.075t1.075-2.775q0-1.7-1.075-2.775T24 14.8q-1.7 0-2.775 1.075T20.15 18.65q0 1.7 1.075 2.775T24 22.5Zm0-3.85Zm0 18.7Z"/></svg>
    </a>
    <span
      class="menu-toggle lg:hidden cursor-pointer"
    >
     <svg class="w-[32px]  md:w-[32px] lg:w-[38px] fill-brown dark:fill-skin object-contain" viewBox="0 0 60 60"><path d="M7.5 36q-.65 0-1.075-.425Q6 35.15 6 34.5q0-.65.425-1.075Q6.85 33 7.5 33h33q.65 0 1.075.425Q42 33.85 42 34.5q0 .65-.425 1.075Q41.15 36 40.5 36Zm0-10.5q-.65 0-1.075-.425Q6 24.65 6 24q0-.65.425-1.075Q6.85 22.5 7.5 22.5h33q.65 0 1.075.425Q42 23.35 42 24q0 .65-.425 1.075-.425.425-1.075.425Zm0-10.5q-.65 0-1.075-.425Q6 14.15 6 13.5q0-.65.425-1.075Q6.85 12 7.5 12h33q.65 0 1.075.425Q42 12.85 42 13.5q0 .65-.425 1.075Q41.15 15 40.5 15Z"/></svg>
    </span>
  </div>

  {% if messages %} {% for m in messages %}
  <div id="messages" class="left-0 w-full absolute mt-24">
    <div id="header-message-container" class="flex justify-between items-center bg-brown dark:bg-grey text-grey dark:text-brown p-1 px-2 text-[11px] sm:text-[13px] lg:text-sm rounded-sm mx-auto w-11/12 md:w-9/12">
      <p class="w-11/12">{{ m }}</p>
      <button class="messages-close-btn text-center flex justify-center">
        <svg viewBox="0 0 320 512" class="w-[14px] fill-grey dark:fill-brown"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>
      </button>
    </div>
  </div>
  {% endfor %} {% endif %}

</header>
